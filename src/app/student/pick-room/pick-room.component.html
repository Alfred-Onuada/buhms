<div class="flex justify-center items-center flex-col">
  <h3 class="font-semibold text-2xl mb-5">Pick A Room</h3>
  <div *ngIf="hasError" class="bg-red-500 text-white py-3 px-5 my-3 rounded-md text-center">
    {{ errorMessage }}
  </div>
  <div *ngIf="hasSuccess" class="bg-green-500 text-white py-3 px-5 my-3 rounded-md text-center">
    {{ successMessage }}
  </div>
  <div class="flex flex-col mb-5">
    <label for="hallId">Select Hall ID</label>
    <select id="hallId" name="hallId" class="border border-gray-300 rounded-md p-2 w-[500px]"
      (change)="fetchRooms($event)">
      <option value="">Select Hall</option>
      <option *ngFor="let hall of halls" [value]="hall.id">{{hall.name}}</option>
    </select>
  </div>
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-[100%]">
    <!-- Loop through each room using *ngFor directive -->
    <div *ngFor="let room of rooms" class="bg-white rounded-lg shadow-md p-4">
      <h4 class="font-semibold text-lg mb-2">{{ room.roomNumber }}</h4>
      <p class="text-gray-600 mb-2">Number of Beds: {{ room.numberOfBeds }}</p>
      <p class="text-gray-600">Number Available: {{ room.numberAvailable }}</p>
      <p class="text-gray-600">Occupied: {{ room.isOccupied ? 'Yes' : 'No' }}</p>
      <p class="text-gray-600">Users:</p>
      <ul class="list-disc ml-6">
        <!-- Loop through each user in the room -->
        <li *ngFor="let user of room.users">
          {{ user.firstName }} {{ user.lastName }} ({{ user.matric }})
        </li>
      </ul>

      <button class="bg-blue-500 text-white rounded-md px-4 py-2 mt-2" (click)="selectRoom(room.id)">Select</button>
    </div>
    <!-- If no rooms are available, display a message -->
    <div *ngIf="!rooms || rooms.length === 0" class="text-gray-600 text-center">
      No rooms available.
    </div>
  </div>
</div>